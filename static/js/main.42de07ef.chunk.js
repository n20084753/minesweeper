(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a(20)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(5),o=a.n(r),c=(a(15),a(3)),i=a(1),s=a(2),u=a(7),m=a(6),v=a(8),g=(a(16),a(17),function(e){var t=Object.entries(e.levels).map(function(e,t){var a=Object(c.a)(e,2),n=a[0],r=a[1];return l.a.createElement("option",{key:n,value:r},n.charAt(0)+n.substring(1).toLocaleLowerCase())});return l.a.createElement("div",{className:"app-header"},l.a.createElement("h3",{className:"title header-cell left"},"Minesweeper"),l.a.createElement("h3",{className:"header-cell center"},l.a.createElement("i",{className:"bomb icon"}),e.level),l.a.createElement("h3",{className:"header-cell center"},l.a.createElement("i",{className:"clock outline icon"}),function(e){var t=Math.floor(e/60)+"",a=e-60*t+"";return"".concat(t.padStart(2,"0"),":").concat(a.padStart(2,"0"))}(e.timer)),l.a.createElement("div",{className:"header-cell right"},l.a.createElement("select",{value:e.level,onChange:e.onLevelChange},t)))}),h=function(){function e(t,a){Object(i.a)(this,e),this.bomb=!1,this.row=t,this.col=a,this.revealed=!1,this.flagged=!1,this.neighbourCount=0}return Object(s.a)(e,[{key:"reveal",value:function(e){this.revealed=!0,0===this.neighbourCount&&this.floodFill(e)}},{key:"floodFill",value:function(e){for(var t=-1;t<=1;t++)for(var a=-1;a<=1;a++){var n=this.row+t,l=this.col+a;n>=0&&n<e.length&&l>=0&&l<e[0].length&&(e[n][l].bomb||e[n][l].revealed||e[n][l].reveal(e))}}}]),e}(),f=(a(18),function(e){var t=e.cellState.flagged?"grid-cell flagged":e.cellState.revealed?"grid-cell revealed":"grid-cell";return l.a.createElement("div",{onClick:function(){return e.onClick(e.cellState.row,e.cellState.col)},onContextMenu:function(t){return e.onRightClick(t,e.cellState.row,e.cellState.col)},className:t},e.cellState.flagged?l.a.createElement("span",null,l.a.createElement("i",{className:"flag icon"})):e.cellState.bomb?l.a.createElement("span",null,l.a.createElement("i",{className:"bomb icon"})):e.cellState.neighbourCount>0&&l.a.createElement("span",null,e.cellState.neighbourCount))}),d={IN_PROGRESS:0,FINISHED:1},E={EASY:8,MEDIUM:10,HARD:12},b=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={gameStatus:d.IN_PROGRESS,level:E.MEDIUM,timer:0,grid:[],revealedCount:0,result:0},a.componentWillUnmount=function(){return clearInterval(a.interval)},a.populateGrid=function(e){for(var t=0;t<e.length;t++)for(var a=0;a<e[t].length;a++)e[t][a]=new h(t,a)},a.populateBombs=function(e){for(var t=[],a=0;a<e.length;a++)for(var n=0;n<e[a].length;n++)t.push([a,n]);for(var l=0;l<e.length;l++){var r=Math.floor(Math.random()*t.length),o=Object(c.a)(t[r],2),i=o[0],s=o[1];t.splice(r,1),e[i][s].bomb=!0}},a.countBombs=function(e){for(var t=e.length,a=e[0].length,n=0;n<t;n++)for(var l=0;l<a;l++)if(e[n][l].bomb)e[n][l].neighbourCount=-1;else{for(var r=0,o=-1;o<=1;o++)for(var c=-1;c<=1;c++){var i=n+o,s=l+c;i>=0&&i<t&&s>=0&&s<a&&e[i][s].bomb&&r++}e[n][l].neighbourCount=r}},a.getRevealedCellsCount=function(){for(var e=a.state.grid,t=0,n=0;n<e.length;n++)for(var l=0;l<e[n].length;l++)e[n][l].revealed&&t++;return t},a.onLevelChange=function(e){a.startFreshGame(e.target.value)},a.resetGame=function(){return a.startFreshGame(a.state.level)},a.finished=function(){clearInterval(a.interval),a.setState({gameStatus:d.FINISHED,result:1})},a.gameOver=function(){for(var e=a.state.grid,t=0;t<e.length;t++)for(var n=0;n<e[t].length;n++)e[t][n].revealed=!0;a.setState({grid:e,gameStatus:d.FINISHED}),clearInterval(a.interval)},a.revealCell=function(e,t){var n=a.state.grid;if(!n[e][t].flagged){if(n[e][t].bomb)return a.gameOver();n[e][t].reveal(n);var l=a.state.level,r=a.getRevealedCellsCount();console.log(l*l-r,l),l*l-r===l&&a.finished(),a.setState({grid:n,revealedCount:r})}},a.toggleFlag=function(e,t,n){e.preventDefault();var l=a.state.grid;l[t][n].flagged=!l[t][n].flagged,a.setState({grid:l})},a}return Object(v.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.startFreshGame(this.state.level)}},{key:"startFreshGame",value:function(e){var t=this,a=Array.from(Array(+e),function(){return new Array(+e)});this.populateGrid(a),this.populateBombs(a),this.countBombs(a),this.setState({gameStatus:d.IN_PROGRESS,level:+e,timer:0,grid:a,revealedCount:0}),this.interval=setInterval(function(){t.setState({timer:t.state.timer+1})},1e3)}},{key:"render",value:function(){var e=this,t=this.state.grid.map(function(t,a){return l.a.createElement("div",{key:a,className:"grid-row"},t.map(function(t,a){return l.a.createElement(f,{onClick:e.revealCell,onRightClick:e.toggleFlag,className:"grid-cell",cellState:t,key:a})}))});return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"game-container ui segment"},l.a.createElement(g,{timer:this.state.timer,level:this.state.level,levels:E,onLevelChange:this.onLevelChange}),l.a.createElement("div",{className:"grid-container"},t),this.state.gameStatus===d.FINISHED&&l.a.createElement("div",{className:"result-container"},l.a.createElement("div",{className:"game-result"},l.a.createElement("h1",null,l.a.createElement("i",{className:"clock icon"}),this.state.result?l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,this.state.timer),l.a.createElement("p",null,"Congrats")):l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,"---"),l.a.createElement("p",null,"OOPS!")))),l.a.createElement("div",{className:"footer-button"},l.a.createElement("button",{onClick:this.resetGame,className:"ui large green button"},l.a.createElement("i",{className:"redo icon"})," Try again")))))}}]),t}(n.Component);a(19);var p=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(b,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[9,1,2]]]);
//# sourceMappingURL=main.42de07ef.chunk.js.map